from datetime import datetime, timedelta


def add_time(time_str, minutes_to_add):
    """
    Добавляет минуты к времени

    Args:
        time_str: время в формате "HH:MM"
        minutes_to_add: количество минут для добавления

    Returns:
        Новое время в формате "HH:MM" или сообщение об ошибке
    """
    try:
        # Парсим строку времени в объект datetime
        # %H - часы (00-23), %M - минуты (00-59)
        time_obj = datetime.strptime(time_str, "%H:%M")

        # Создаем timedelta с нужным количеством минут
        # timedelta удобно обрабатывает переход через полночь
        time_delta = timedelta(minutes=minutes_to_add)

        # Добавляем интервал к времени
        new_time = time_obj + time_delta

        # Форматируем обратно в строку
        return new_time.strftime("%H:%M")

    except ValueError:
        return "Неверный формат времени. Используйте HH:MM"


if __name__ == "__main__":
    print("=== Калькулятор времени ===\n")

    # Тест 1: Простое добавление минут
    print("23:45 + 30 минут =", add_time("23:45", 30))
    # Объяснение: 23:45 + 30 мин = 00:15 (переход через полночь)

    # Тест 2: Добавление больше часа
    print("10:30 + 90 минут =", add_time("10:30", 90))
    # Объяснение: 90 мин = 1 час 30 мин, 10:30 + 1:30 = 12:00

    # Тест 3: Добавление нескольких часов
    print("14:20 + 180 минут =", add_time("14:20", 180))
    # Объяснение: 180 мин = 3 часа, 14:20 + 3:00 = 17:20

    # Тест 4: Очень большое количество минут (несколько дней)
    print("22:00 + 1500 минут =", add_time("22:00", 1500))
    # Объяснение: 1500 мин = 25 часов = 1 день 1 час

    # Тест с ошибкой
    print("\nТест с ошибкой формата:")
    print(add_time("25:70", 30))  # Неправильное время
