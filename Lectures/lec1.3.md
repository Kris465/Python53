# Условные операторы в Python (`if`/`elif`/`else`)

## Введение

**Условные операторы** - это конструкции, которые позволяют программе принимать решения и выполнять различные действия в зависимости от условий.

**Аналогия из жизни:**
- "Если идет дождь, то возьми зонт, иначе надень солнечные очки"
- "Если температура выше 25°C, включи кондиционер"

## Логические операторы сравнения

### Базовые операторы сравнения

| Оператор | Описание | Пример | Результат |
|----------|-----------|---------|-----------|
| `==` | Равно | `5 == 5` | `True` |
| `!=` | Не равно | `5 != 3` | `True` |
| `>` | Больше | `10 > 5` | `True` |
| `<` | Меньше | `3 < 7` | `True` |
| `>=` | Больше или равно | `5 >= 5` | `True` |
| `<=` | Меньше или равно | `4 <= 6` | `True` |

```python
# Примеры использования
print(10 == 10)    # True
print(8 != 5)      # True  
print(15 > 10)     # True
print(3 < 7)       # True
print(5 >= 5)      # True
print(4 <= 6)      # True
```

### Логические операторы (AND, OR, NOT)

| Оператор | Описание | Пример | Результат |
|----------|-----------|---------|-----------|
| `and` | И (оба условия True) | `(5 > 3) and (2 < 4)` | `True` |
| `or` | ИЛИ (хотя бы одно True) | `(5 > 3) or (2 > 4)` | `True` |
| `not` | НЕ (инверсия) | `not (5 == 3)` | `True` |

```python
# Примеры логических операторов
age = 25
has_license = True

# AND - оба условия должны быть True
can_drive = (age >= 18) and has_license
print(can_drive)  # True

# OR - хотя бы одно условие True
is_weekend = True
is_holiday = False
can_rest = is_weekend or is_holiday
print(can_rest)  # True

# NOT - инверсия результата
is_raining = True
can_walk = not is_raining
print(can_walk)  # False
```

### Приоритет операторов
1. `()` - скобки
2. `not` - логическое НЕ  
3. `and` - логическое И
4. `or` - логическое ИЛИ

```python
# Разница в приоритетах
result1 = True or False and False  # = True or (False and False) = True or False = True
result2 = (True or False) and False  # = True and False = False

print(result1)  # True
print(result2)  # False
```

## Синтаксис условных конструкций

### 1. Простой оператор `if`

**Синтаксис:**
```python
if условие:
    # блок кода, который выполнится если условие True
    действие1
    действие2
```

**Пример:**
```python
temperature = 30

if temperature > 25:
    print("Жарко! Включите кондиционер")
    print("Пейте больше воды")
```

### 2. Конструкция `if-else`

**Синтаксис:**
```python
if условие:
    # выполняется если условие True
    действие_если_True
else:
    # выполняется если условие False  
    действие_если_False
```

**Пример:**
```python
age = 17

if age >= 18:
    print("Доступ разрешен")
    print("Можете войти")
else:
    print("Доступ запрещен")
    print("Вам нет 18 лет")
```

### 3. Конструкция `if-elif-else`

**Синтаксис:**
```python
if условие1:
    # выполняется если условие1 True
    действие1
elif условие2:
    # выполняется если условие1 False, но условие2 True
    действие2
elif условие3:
    # выполняется если предыдущие False, но условие3 True
    действие3
else:
    # выполняется если все условия False
    действие_по_умолчанию
```

**Пример:**
```python
score = 85

if score >= 90:
    print("Оценка: A")
    print("Отлично!")
elif score >= 80:
    print("Оценка: B") 
    print("Хорошо!")
elif score >= 70:
    print("Оценка: C")
    print("Удовлетворительно")
else:
    print("Оценка: F")
    print("Нужно подтянуть знания")
```

### Важные правила синтаксиса:

1. **Двоеточие** `:` после условия - ОБЯЗАТЕЛЬНО!
2. **Отступы (indentation)** - 4 пробела или Tab
3. **Все операторы на одном уровне отступов** относятся к одному блоку

```python
# ПРАВИЛЬНО:
if condition:
    action1
    action2

# НЕПРАВИЛЬНО:
if condition:
action1  # Ошибка! Нет отступа
action2
```

## Вложенные условия

Вложенные условия - это конструкции `if` внутри других конструкций `if`.

### Синтаксис вложенных условий

```python
if внешнее_условие:
    # блок внешнего условия
    действие1
    
    if внутреннее_условие:
        # блок внутреннего условия
        действие2
        действие3
    else:
        # блок else для внутреннего условия
        действие4
        
else:
    # блок else для внешнего условия
    действие5
```

### Практические примеры вложенных условий

**Пример 1: Проверка доступа**
```python
age = 20
has_ticket = True

if age >= 18:
    print("Возраст подходит")
    
    if has_ticket:
        print("Билет есть - проходите!")
        print("Приятного просмотра!")
    else:
        print("Нужно купить билет")
        
else:
    print("Вам нет 18 лет")
    print("Доступ запрещен")
```

**Пример 2: Система оценок с дополнительными условиями**
```python
score = 87
attendance = 95

if score >= 90:
    grade = "A"
    print(f"Оценка: {grade}")
    
elif score >= 80:
    grade = "B"
    print(f"Оценка: {grade}")
    
    # Вложенное условие
    if attendance >= 90:
        print("Отличная посещаемость!")
    else:
        print("Старайтесь лучше посещать занятия")
        
elif score >= 70:
    grade = "C"
    print(f"Оценка: {grade}")
else:
    grade = "F"
    print(f"Оценка: {grade}")
    print("Требуется дополнительное обучение")
```

## Оператор `match-case` (Python 3.10+)

Оператор `match-case` (также известный как структурное сопоставление) был добавлен в Python 3.10. Он предоставляет более читаемый способ обработки множественных условий по сравнению с длинными цепочками `if-elif-else`.

### Базовый синтаксис

```python
match выражение:
    case шаблон1:
        # действия если выражение соответствует шаблон1
    case шаблон2:
        # действия если выражение соответствует шаблон2
    case _:
        # действия по умолчанию (аналог else)
```

### Примеры использования

**Пример 1: Простое сопоставление с константами**
```python
status_code = 404

match status_code:
    case 200:
        print("Успешно")
    case 301 | 302:  # несколько значений через |
        print("Перенаправление")
    case 404:
        print("Не найдено")
    case 500:
        print("Ошибка сервера")
    case _:
        print("Неизвестный статус")
```

**Пример 2: Сопоставление с извлечением данных**
```python
def handle_command(command):
    match command.split():
        case ["exit"]:
            print("Выход из программы")
        case ["say", text]:
            print(f"Говорим: {text}")
        case ["move", direction, distance]:
            print(f"Движение {direction} на {distance} единиц")
        case ["help", *topics]:  # переменное количество аргументов
            print(f"Помощь по темам: {topics}")
        case _:
            print("Неизвестная команда")

# Тестирование
handle_command("exit")              # Выход из программы
handle_command("say Привет мир")    # Говорим: Привет мир
handle_command("move left 10")      # Движение left на 10 единиц
handle_command("help python basics") # Помощь по темам: ['python', 'basics']
```

**Пример 3: Сопоставление с условиями (guard)**
```python
def check_age_category(person):
    match person:
        case {"name": name, "age": age} if age < 0:
            print(f"{name}: Некорректный возраст")
        case {"name": name, "age": age} if age < 18:
            print(f"{name}: Ребенок")
        case {"name": name, "age": age} if age < 65:
            print(f"{name}: Взрослый")
        case {"name": name, "age": age}:
            print(f"{name}: Пенсионер")
        case _:
            print("Некорректные данные")

# Тестирование
check_age_category({"name": "Анна", "age": 15})   # Анна: Ребенок
check_age_category({"name": "Иван", "age": 30})   # Иван: Взрослый
check_age_category({"name": "Мария", "age": 70})  # Мария: Пенсионер
```

**Пример 4: Сравнение с if-elif-else**
```python
# Старый способ (if-elif-else)
def process_data_old(data):
    if data == "success":
        return "Операция выполнена успешно"
    elif data == "error":
        return "Произошла ошибка"
    elif data == "pending":
        return "Операция в процессе"
    else:
        return "Неизвестный статус"

# Новый способ (match-case)
def process_data_new(data):
    match data:
        case "success":
            return "Операция выполнена успешно"
        case "error":
            return "Произошла ошибка"
        case "pending":
            return "Операция в процессе"
        case _:
            return "Неизвестный статус"

print(process_data_old("success"))  # Оба выведут: Операция выполнена успешно
print(process_data_new("success"))  # Оба выведут: Операция выполнена успешно
```

### Преимущества match-case

1. **Читаемость** - код становится более понятным и структурированным
2. **Безопасность** - исключены ошибки с пропущенными break (как в switch других языков)
3. **Мощность** - поддерживает сложные шаблоны и извлечение данных
4. **Производительность** - в некоторых случаях может работать быстрее цепочек if-elif

### Ограничения

- Доступен только в Python 3.10 и новее
- Может быть избыточным для простых условий

## Практические примеры

### Пример 1: Калькулятор ИМТ (индекс массы тела)
```python
weight = float(input("Введите вес (кг): "))
height = float(input("Введите рост (м): "))

bmi = weight / (height ** 2)
print(f"Ваш ИМТ: {bmi:.2f}")

if bmi < 18.5:
    category = "Недостаточный вес"
elif 18.5 <= bmi < 25:
    category = "Нормальный вес"  
elif 25 <= bmi < 30:
    category = "Избыточный вес"
else:
    category = "Ожирение"

print(f"Категория: {category}")
```

### Пример 2: Определение времени суток с match-case
```python
hour = int(input("Введите текущий час (0-23): "))

match hour:
    case 5 | 6 | 7 | 8 | 9 | 10 | 11:
        time_of_day = "Утро"
        greeting = "Доброе утро!"
    case 12 | 13 | 14 | 15 | 16:
        time_of_day = "День"
        greeting = "Добрый день!"
    case 17 | 18 | 19 | 20 | 21:
        time_of_day = "Вечер" 
        greeting = "Добрый вечер!"
    case _:
        time_of_day = "Ночь"
        greeting = "Доброй ночи!"

print(f"Сейчас {time_of_day}")
print(greeting)
```

### Пример 3: Проверка пароля
```python
password = input("Введите пароль: ")
min_length = 8

if len(password) < min_length:
    print("Пароль слишком короткий!")
    print(f"Минимальная длина: {min_length} символов")
    
else:
    has_upper = any(char.isupper() for char in password)
    has_lower = any(char.islower() for char in password) 
    has_digit = any(char.isdigit() for char in password)
    
    if has_upper and has_lower and has_digit:
        print("Пароль надежный!")
    else:
        print("Пароль слабый. Рекомендации:")
        
        if not has_upper:
            print("- Добавьте заглавные буквы")
        if not has_lower:
            print("- Добавьте строчные буквы") 
        if not has_digit:
            print("- Добавьте цифры")
```

## Распространенные ошибки

### 1. Отсутствие двоеточия
```python
# НЕПРАВИЛЬНО:
if x > 5
    print("Больше 5")

# ПРАВИЛЬНО:
if x > 5:
    print("Больше 5")
```

### 2. Неправильные отступы
```python
# НЕПРАВИЛЬНО:
if x > 5:
print("Больше 5")  # Ошибка: нет отступа

# ПРАВИЛЬНО:
if x > 5:
    print("Больше 5")
```

### 3. Использование `=` вместо `==`
```python
# НЕПРАВИЛЬНО:
if x = 5:  # Присваивание вместо сравнения
    print("Равно 5")

# ПРАВИЛЬНО:
if x == 5:  # Сравнение
    print("Равно 5")
```

### 4. Лишние отступы у `elif`/`else`
```python
# НЕПРАВИЛЬНО:
if x > 5:
    print("Больше 5")
    elif x == 5:  # Ошибка: лишний отступ
        print("Равно 5")

# ПРАВИЛЬНО:
if x > 5:
    print("Больше 5")
elif x == 5:
    print("Равно 5")
```

## Итоги урока

### Ключевые моменты:
- **Условные операторы** позволяют программе принимать решения
- **Логические операторы** (`and`, `or`, `not`) комбинируют условия  
- **Синтаксис**: двоеточие и отступы - ОБЯЗАТЕЛЬНЫ!
- **`if-elif-else`** обрабатывает множественные условия
- **Вложенные условия** создают сложную логику принятия решений
- **`match-case`** (Python 3.10+) предоставляет альтернативный способ для сложных условий

### Практические советы:
1. Всегда проверяйте отступы
2. Используйте `elif` для связанных условий
3. Разбивайте сложные условия на несколько строк
4. Комментируйте сложную логику
5. Тестируйте все возможные ветки выполнения
6. Для Python 3.10+ рассматривайте `match-case` как альтернативу длинным цепочкам `if-elif`