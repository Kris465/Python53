### **Конспект лекции: Коллекции в Python — Списки**

**Тема:** 1.9 Коллекции в Python: Списки  
**Цель:** Освоить создание и работу со списками в Python: индексацию, срезы и основные методы для добавления, удаления и изменения элементов.

---

## **Введение в списки**

**Список** — это упорядоченная изменяемая коллекция элементов произвольных типов.  
**Аналогия из жизни:** Список покупок, расписание уроков, перечень гостей на мероприятии.

**Зачем нужны списки?**
- Хранение набора данных в одной переменной
- Упорядоченное хранение элементов (сохраняется порядок добавления)
- Возможность изменять, добавлять и удалять элементы
- Эффективная работа с наборами данных

---

## **Создание списков**

### **Способы создания списков**

```python
# 1. Пустой список
empty_list = []
empty_list = list()

# 2. Список с элементами
fruits = ["яблоко", "банан", "апельсин"]
numbers = [1, 2, 3, 4, 5]
mixed = [1, "текст", True, 3.14]

# 3. С помощью функции list()
chars = list("python")  # ['p', 'y', 't', 'h', 'o', 'n']
numbers_range = list(range(5))  # [0, 1, 2, 3, 4]

print(fruits)  # ['яблоко', 'банан', 'апельсин']
print(numbers) # [1, 2, 3, 4, 5]
```

### **Особенности списков**
- Элементы сохраняют порядок добавления
- Могут содержать элементы разных типов
- Поддерживают дублирование элементов
- Изменяемы (мутабельны)

```python
# Список с повторяющимися элементами
grades = [5, 4, 5, 3, 5, 4]
print(grades)  # [5, 4, 5, 3, 5, 4]

# Разные типы данных в одном списке
person = ["Анна", 25, True, 160.5]
print(person)  # ['Анна', 25, True, 160.5]
```

---

## **Индексация и срезы**

### **Индексация (доступ к элементам)**

```python
colors = ["красный", "оранжевый", "желтый", "зеленый", "голубой"]

# Прямая индексация (с начала)
print(colors[0])  # красный
print(colors[2])  # желтый

# Отрицательная индексация (с конца)
print(colors[-1]) # голубой
print(colors[-3]) # желтый
```

### **Срезы (slice) — получение подсписка**

```python
numbers = [0, 1, 2, 3, 4, 5, 6, 7, 8, 9]

# Синтаксис: список[начало:конец:шаг]
print(numbers[2:6])    # [2, 3, 4, 5] - с 2го до 6го (не включая)
print(numbers[:4])     # [0, 1, 2, 3] - с начала до 4го
print(numbers[5:])     # [5, 6, 7, 8, 9] - с 5го до конца
print(numbers[::2])    # [0, 2, 4, 6, 8] - каждый второй элемент
print(numbers[::-1])   # [9, 8, 7, 6, 5, 4, 3, 2, 1, 0] - обратный порядок
```

### **Изменение элементов через индексацию**

```python
languages = ["Python", "Java", "C++", "JavaScript"]

# Изменение элемента по индексу
languages[1] = "Go"
print(languages)  # ['Python', 'Go', 'C++', 'JavaScript']

# Изменение среза
languages[1:3] = ["Ruby", "PHP"]
print(languages)  # ['Python', 'Ruby', 'PHP', 'JavaScript']
```

---

## **Основные методы списков**

### **Добавление элементов**

#### **`append()` — добавление в конец**
```python
fruits = ["яблоко", "банан"]
fruits.append("апельсин")
print(fruits)  # ['яблоко', 'банан', 'апельсин']

fruits.append("киви")
print(fruits)  # ['яблоко', 'банан', 'апельсин', 'киви']
```

#### **`insert()` — вставка по индексу**
```python
numbers = [1, 2, 4, 5]

# Вставка на позицию с индексом 2
numbers.insert(2, 3)
print(numbers)  # [1, 2, 3, 4, 5]

# Вставка в начало
numbers.insert(0, 0)
print(numbers)  # [0, 1, 2, 3, 4, 5]
```

#### **`extend()` — расширение списка**
```python
list1 = [1, 2, 3]
list2 = [4, 5, 6]

list1.extend(list2)
print(list1)  # [1, 2, 3, 4, 5, 6]

# Эквивалентно: list1 + list2
# Но extend() изменяет исходный список
```

### **Удаление элементов**

#### **`pop()` — удаление по индексу (с возвратом)**
```python
colors = ["красный", "зеленый", "синий"]

# Удаление последнего элемента
last_color = colors.pop()
print(last_color)  # синий
print(colors)      # ['красный', 'зеленый']

# Удаление по индексу
second_color = colors.pop(1)
print(second_color) # зеленый
print(colors)       # ['красный']
```

#### **`remove()` — удаление по значению**
```python
fruits = ["яблоко", "банан", "апельсин", "банан"]

# Удаляет первое найденное значение
fruits.remove("банан")
print(fruits)  # ['яблоко', 'апельсин', 'банан']

# fruits.remove("вишня")  # ОШИБКА! ValueError
```

#### **`clear()` — очистка всего списка**
```python
numbers = [1, 2, 3, 4, 5]
numbers.clear()
print(numbers)  # []
```

### **Поиск и информация**

#### **`index()` — поиск индекса элемента**
```python
letters = ["a", "b", "c", "b", "d"]

position = letters.index("b")
print(position)  # 1 (первое вхождение)

# Поиск с указанием диапазона
position2 = letters.index("b", 2)  # поиск с позиции 2
print(position2) # 3
```

#### **`count()` — подсчет количества элементов**
```python
grades = [5, 4, 5, 3, 5, 4, 5]

fives_count = grades.count(5)
print(f"Пятерок: {fives_count}")  # Пятерок: 4

threes_count = grades.count(3)
print(f"Троек: {threes_count}")   # Троек: 1
```

#### **`len()` — длина списка**
```python
shopping_list = ["хлеб", "молоко", "яйца", "сыр"]
print(f"Количество продуктов: {len(shopping_list)}")  # 4
```

---

## **Практические примеры**

### **Пример 1: Управление списком задач**
```python
tasks = []

# Добавление задач
tasks.append("Изучить Python")
tasks.append("Сделать домашнее задание")
tasks.insert(1, "Сходить в магазин")

print("Текущие задачи:", tasks)

# Выполнение задач
completed = tasks.pop(0)
print(f"Выполнено: {completed}")
print("Оставшиеся задачи:", tasks)

# Удаление задачи
tasks.remove("Сходить в магазин")
print("После удаления:", tasks)
```

### **Пример 2: Анализ оценок студентов**
```python
grades = [5, 4, 3, 5, 4, 5, 3, 4, 5, 4]

# Статистика
total = len(grades)
excellent = grades.count(5)
good = grades.count(4)
satisfactory = grades.count(3)

print(f"Всего оценок: {total}")
print(f"Пятерок: {excellent} ({excellent/total*100:.1f}%)")
print(f"Четверок: {good} ({good/total*100:.1f}%)")
print(f"Троек: {satisfactory} ({satisfactory/total*100:.1f}%)")

# Средний балл
average = sum(grades) / len(grades)
print(f"Средний балл: {average:.2f}")
```

### **Пример 3: Работа со срезами**
```python
numbers = list(range(20))  # [0, 1, 2, ..., 19]

# Первые 5 элементов
first_five = numbers[:5]
print("Первые пять:", first_five)

# Последние 5 элементов
last_five = numbers[-5:]
print("Последние пять:", last_five)

# Каждый второй элемент
every_second = numbers[::2]
print("Каждый второй:", every_second)

# Обратный порядок
reversed_numbers = numbers[::-1]
print("В обратном порядке:", reversed_numbers[:5])  # первые 5 обратных
```

---

## **Распространенные ошибки**

### **1. Выход за границы списка**
```python
fruits = ["яблоко", "банан"]

# НЕПРАВИЛЬНО:
# print(fruits[5])  # IndexError: list index out of range

# ПРАВИЛЬНО:
if len(fruits) > 5:
    print(fruits[5])
else:
    print("Элемента с таким индексом нет")
```

### **2. Изменение списка во время итерации**
```python
numbers = [1, 2, 3, 4, 5]

# ОПАСНО (может привести к непредсказуемому поведению):
# for num in numbers:
#     if num == 3:
#         numbers.remove(num)

# БЕЗОПАСНО (создаем копию):
for num in numbers[:]:  # итерируемся по копии
    if num == 3:
        numbers.remove(num)
print(numbers)  # [1, 2, 4, 5]
```

### **3. Путаница между `pop()` и `remove()`**
```python
items = ["A", "B", "C", "D"]

# pop() - по индексу, возвращает элемент
removed = items.pop(1)  # удаляет "B"
print(f"Удален: {removed}")  # Удален: B

# remove() - по значению, не возвращает элемент
items.remove("C")  # удаляет "C"
print(items)  # ['A', 'D']
```

### **4. Неправильное использование `append()`**
```python
# НЕПРАВИЛЬНО (добавляет список как один элемент):
numbers = [1, 2, 3]
numbers.append([4, 5])
print(numbers)  # [1, 2, 3, [4, 5]] - не то, что ожидали!

# ПРАВИЛЬНО (добавляет элементы по отдельности):
numbers = [1, 2, 3]
numbers.extend([4, 5])
print(numbers)  # [1, 2, 3, 4, 5]
```

---

## **Итоги урока**

### **Ключевые моменты:**
- **Списки** — упорядоченные изменяемые коллекции
- **Индексация** — доступ к элементам по позиции (с начала или с конца)
- **Срезы** — получение подсписков `[start:stop:step]`
- **`append()`** — добавление элемента в конец
- **`pop()`** — удаление по индексу с возвратом значения
- **`insert()`** — вставка элемента на указанную позицию
- **`remove()`** — удаление первого найденного элемента по значению

### **Практические рекомендации:**
1. Используйте `append()` для постепенного наполнения списков
2. Применяйте срезы для эффективной работы с частями списка
3. Проверяйте наличие элемента перед вызовом `remove()`
4. Используйте `pop()` когда нужно получить удаляемый элемент
5. Помните об индексации с 0 и отрицательных индексах
6. Избегайте изменения списка во время итерации по нему

### **Типичные сценарии применения:**
- **Хранение наборов данных** — пользователи, товары, задачи
- **Очередь обработки** — добавление в конец, извлечение из начала
- **Анализ данных** — статистика, фильтрация, преобразование
- **Временное хранение** — кэширование, буферизация

**Совет:** Практикуйтесь с различными операциями над списками — это одна из самых часто используемых структур данных в Python!