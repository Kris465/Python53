### **Конспект лекции: Циклы в Python (`while`, `for`)**

**Тема:** 1.5 Циклы в Python (`while`, `for`).
**Цель:** Освоить принципы работы циклов в Python, научиться применять циклы `while` и `for` для автоматизации повторяющихся действий.

---

## **Введение в циклы**

**Циклы** — это конструкции, которые позволяют выполнять один и тот же блок кода несколько раз. 

**Зачем нужны циклы?**
- Обработка множества элементов (списков, строк, данных)
- Автоматизация повторяющихся задач
- Выполнение действий до достижения определенного условия
- Снижение объема кода и устранение дублирования

**Аналогия из жизни:**
- "Пока есть грязная посуда, мой следующую тарелку" → цикл `while`
- "Для каждого гостя в списке приготовить напиток" → цикл `for`

---

## **Цикл с условием `while`**

### **Базовый синтаксис**

```python
while условие:
    # блок кода, который выполняется пока условие True
    действие1
    действие2
```

**Принцип работы:**
1. Проверяется условие
2. Если условие `True` → выполняется блок кода
3. Возврат к шагу 1
4. Если условие `False` → выход из цикла

### **Примеры использования `while`**

**Пример 1: Простой счетчик**
```python
count = 1
while count <= 5:
    print(f"Счетчик: {count}")
    count += 1  # Увеличиваем счетчик на 1

print("Цикл завершен!")
```
**Вывод:**
```
Счетчик: 1
Счетчик: 2
Счетчик: 3
Счетчик: 4
Счетчик: 5
Цикл завершен!
```

**Пример 2: Обратный отсчет**
```python
timer = 10
while timer > 0:
    print(f"До старта: {timer}")
    timer -= 1  # Уменьшаем таймер на 1

print("Поехали!")
```

**Пример 3: Обработка пользовательского ввода**
```python
total = 0
while True:
    number = input("Введите число (или 'stop' для выхода): ")
    
    if number.lower() == 'stop':
        break  # Выход из цикла
    
    total += int(number)
    print(f"Текущая сумма: {total}")

print(f"Итоговая сумма: {total}")
```

---

## **Цикл для перебора `for ... in ...`**

### **Базовый синтаксис**

```python
for элемент in последовательность:
    # блок кода, выполняемый для каждого элемента
    действие_с_элементом
```

**Что может быть последовательностью:**
- Строки
- Списки
- Кортежи
- Диапазоны (`range()`)
- Словари
- Множества
- Файлы

### **Примеры использования `for`**

**Пример 1: Перебор строки**
```python
word = "Python"
for letter in word:
    print(letter)
```
**Вывод:**
```
P
y
t
h
o
n
```

**Пример 2: Перебор списка**
```python
fruits = ["яблоко", "банан", "апельсин", "киви"]
for fruit in fruits:
    print(f"Фрукт: {fruit}")
```
**Вывод:**
```
Фрукт: яблоко
Фрукт: банан
Фрукт: апельсин
Фрукт: киви
```

**Пример 3: Перебор с индексом (функция `enumerate()`)**
```python
colors = ["красный", "зеленый", "синий", "желтый"]
for index, color in enumerate(colors):
    print(f"Цвет №{index + 1}: {color}")
```
**Вывод:**
```
Цвет №1: красный
Цвет №2: зеленый
Цвет №3: синий
Цвет №4: желтый
```

---

## **Функция `range()` для генерации последовательностей**

### **Синтаксис `range()`**

```python
range(stop)                 # от 0 до stop-1
range(start, stop)          # от start до stop-1  
range(start, stop, step)    # от start до stop-1 с шагом step
```

### **Примеры использования `range()`**

**Пример 1: Простой диапазон**
```python
for i in range(5):
    print(i)
```
**Вывод:**
```
0
1
2
3
4
```

**Пример 2: Диапазон с началом и концом**
```python
for i in range(2, 8):
    print(i)
```
**Вывод:**
```
2
3
4
5
6
7
```

**Пример 3: Диапазон с шагом**
```python
for i in range(0, 10, 2):
    print(i)
```
**Вывод:**
```
0
2
4
6
8
```

**Пример 4: Обратный отсчет**
```python
for i in range(5, 0, -1):
    print(i)
```
**Вывод:**
```
5
4
3
2
1
```

---

## **Ключевые слова для управления циклами**

### **`break` — досрочный выход из цикла**

```python
for number in range(1, 10):
    if number == 5:
        print("Достигнуто 5, выход из цикла")
        break
    print(number)
```
**Вывод:**
```
1
2
3
4
Достигнуто 5, выход из цикла
```

### **`continue` — переход к следующей итерации**

```python
for number in range(1, 6):
    if number == 3:
        print("Пропускаем 3")
        continue
    print(number)
```
**Вывод:**
```
1
2
Пропускаем 3
4
5
```

### **`else` в циклах — выполняется если цикл завершился нормально**

```python
for number in range(1, 4):
    print(number)
else:
    print("Цикл завершен без break")
```
**Вывод:**
```
1
2
3
Цикл завершен без break
```

---

## **Практические примеры**

### **Пример 1: Сумма чисел**
```python
# Сумма чисел от 1 до 100
total = 0
for number in range(1, 101):
    total += number

print(f"Сумма чисел от 1 до 100: {total}")
```

### **Пример 2: Таблица умножения**
```python
number = int(input("Введите число для таблицы умножения: "))

print(f"Таблица умножения для {number}:")
for i in range(1, 11):
    result = number * i
    print(f"{number} × {i} = {result}")
```

### **Пример 3: Поиск простых чисел**
```python
print("Простые числа до 50:")
for number in range(2, 51):
    is_prime = True
    
    for divisor in range(2, int(number ** 0.5) + 1):
        if number % divisor == 0:
            is_prime = False
            break
    
    if is_prime:
        print(number, end=" ")
```
**Вывод:**
```
Простые числа до 50:
2 3 5 7 11 13 17 19 23 29 31 37 41 43 47
```

### **Пример 4: Обработка списка студентов**
```python
students = [
    {"name": "Анна", "grade": 85},
    {"name": "Иван", "grade": 92},
    {"name": "Мария", "grade": 78},
    {"name": "Петр", "grade": 65}
]

print("Студенты с оценкой выше 80:")
for student in students:
    if student["grade"] > 80:
        print(f"{student['name']}: {student['grade']} баллов")
```

---

## **Вложенные циклы**

### **Синтаксис вложенных циклов**

```python
for внешний_элемент in внешняя_последовательность:
    # код внешнего цикла
    
    for внутренний_элемент in внутренняя_последовательность:
        # код внутреннего цикла
        действие
```

### **Пример: Таблица умножения полностью**
```python
print("Таблица умножения:")
for i in range(1, 6):  # Внешний цикл
    for j in range(1, 6):  # Внутренний цикл
        result = i * j
        print(f"{i}×{j}={result:2}", end="  ")
    print()  # Переход на новую строку после каждой строки таблицы
```
**Вывод:**
```
Таблица умножения:
1×1= 1  1×2= 2  1×3= 3  1×4= 4  1×5= 5  
2×1= 2  2×2= 4  2×3= 6  2×4= 8  2×5=10  
3×1= 3  3×2= 6  3×3= 9  3×4=12  3×5=15  
4×1= 4  4×2= 8  4×3=12  4×4=16  4×5=20  
5×1= 5  5×2=10  5×3=15  5×4=20  5×5=25  
```

---

## **Распространенные ошибки**

### **1. Бесконечный цикл `while`**
```python
# НЕПРАВИЛЬНО:
count = 1
while count <= 5:  # count никогда не изменится!
    print(count)
# Забыли count += 1 - цикл будет выполняться вечно
```

### **2. Изменение списка во время итерации**
```python
# ОПАСНО:
numbers = [1, 2, 3, 4, 5]
for number in numbers:
    if number == 3:
        numbers.remove(number)  # Меняем список во время итерации
# Лучше создать копию или использовать list comprehension
```

### **3. Путаница между `break` и `continue`**
```python
for i in range(5):
    if i == 2:
        break    # Выйдет из цикла полностью
    print(i)     # Выведет: 0, 1

for i in range(5):
    if i == 2:
        continue # Пропустит только i=2
    print(i)     # Выведет: 0, 1, 3, 4
```

### **4. Неправильные границы `range()`**
```python
# range(5) дает: 0, 1, 2, 3, 4 (5 не включено!)
for i in range(5):
    print(i)  # Выведет числа 0-4, а не 1-5
```

---

## **Когда использовать какой цикл?**

### **Цикл `while` используйте когда:**
- Неизвестно количество итераций заранее
- Зависимость от внешних условий (пользовательский ввод, состояние системы)
- Выполнение до достижения определенного условия

### **Цикл `for` используйте когда:**
- Известно количество итераций или есть конечная последовательность
- Нужно перебрать все элементы коллекции
- Работа с диапазонами чисел

---

## **Итоги урока**

### **Ключевые моменты:**
- **`while`** — цикл с условием, выполняется пока условие `True`
- **`for`** — цикл для перебора элементов последовательности  
- **`range()`** — генератор числовых последовательностей
- **`break`** — досрочный выход из цикла
- **`continue`** — переход к следующей итерации
- **`else` в циклах** — выполняется если цикл не был прерван

### **Практические рекомендации:**
1. Всегда проверяйте условие выхода из `while`
2. Используйте `for` для работы с коллекциями
3. Помните, что `range(stop)` не включает stop
4. Избегайте изменения списков во время итерации
5. Используйте `enumerate()` для получения индексов
6. Применяйте вложенные циклы для работы с многомерными данными

### **Типичные сценарии применения:**
- **`while`** — меню, игры, обработка потоков данных
- **`for`** — обработка списков, вычисления, анализ данных
- **`range()`** — счетчики, индексы, числовые последовательности